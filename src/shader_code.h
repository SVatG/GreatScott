/* File generated with Shader Minifier 1.1.4
 * http://www.ctrl-alt-test.fr
 */
#ifndef SHADER_CODE_H_
# define SHADER_CODE_H_

const char *shader_frag =
 "#version 420\n"
 "out vec4 f;"
 "in vec4 gl_Color;"
 "layout(size4x32)coherent uniform image3D g;"
 "uniform sampler3D k;"
 "layout(binding=1)uniform sampler3D h;"
 "vec4 e(float v,vec4 y)"
 "{"
   "float x=v>.02f?v<.17?.2f+v:0.f:0.f,t=v>.2&&v<.4?.05+v:0.f;"
   "return y*x+t;"
 "}"
 "void main()"
 "{"
   "const vec2 v[9]=vec2[9](vec2(35,64),vec2(35,60.9),vec2(76.3,60.9),vec2(41.3,60.9),vec2(62,60.9),vec2(22,60.9),vec2(22,51),vec2(14,51),vec2(14,45));"
   "float t=gl_Color.x*128.f*128.f*4.f,c=gl_Color.y*128.f*128.f*28.f;"
   "int i=int(gl_Color.z*2048.f),x=i/32%9;"
   "vec2 d=vec2(1.f,0.f)/128.f;"
   "for(int y=0;y<6;y++)"
     "{"
       "int s=y%3,m=int(gl_FragCoord.x+gl_FragCoord.y*1280.)*3+s;"
       "if(m<2097152)"
         "{"
           "ivec3 w=ivec3(m/16384,m/128%128,m%128);"
           "vec3 z=vec3(w)/128.f+.5/128.f;"
           "vec4 r=-texture(k,z)*6.+texture(k,z+d.xyy)+texture(k,z-d.xyy)+texture(k,z+d.yxy)+texture(k,z-d.yxy)+texture(k,z+d.yyx)+texture(k,z-d.yyx),l=texture(k,z);"
           "vec2 a=vec2(l.x*l.y*l.y,l.z*l.w*l.w);"
           "vec4 u=vec4(.082f*r.x-a.x+v[x].x/1000.f*(1.f-l.x),.041f*r.y+a.x-(v[x].x+v[x].y)/1000.f*l.y,.082f*r.z-a.y+v[8-x].x/1000.f*(1.f-l.z),.041f*r.w+a.y-(v[8-x].x+v[8-x].y)/1000.f*l.w);"
           "l=l+u*c;"
           "imageStore(g,w,l);"
         "}"
     "}"
   "if(gl_FragCoord.y<128&&gl_Color.w>=.99f&&i>=89&&(i-89)%2==0)"
     "{"
       "int y=int(gl_FragCoord.x)/10,z=int(gl_FragCoord.x)%10;"
       "vec3 w=vec3(y,gl_FragCoord.y,(i-89)/4)/128.f;"
       "vec4 l=texture(k,w);"
       "int a=int(t*1000.f);"
       "if(i<117)"
         "l.y=texture(h,w).x,l.w*=1.f-l.y;"
       "else"
         " l.w=texture(h,w).x;"
       "if((i-89)%4==0||i>=117)"
         "imageStore(g,ivec3((z+a)%128,(int(gl_FragCoord.y)+a*311)%128,127-y),l);"
     "}"
   "vec2 l=-1.+gl_FragCoord.xy/vec2(640.,360.);"
   "vec3 y=normalize(vec3(l.x,l.y,1.));"
   "float r=i<49?0:i<57?-.7f:0.f,w=i<49?1.f:i<57?0.f:1.f;"
   "vec3 z=vec3(.5+t*r,.5+t*.1*w,.5+t*.05*w);"
   "float a=i<25?t*.05:i<41?-t*.05:i<49?1.57:3.14;"
   "if(i>56&&i%2==0&&i<73)"
     "a=float(i-57)/3.f+a;"
   "mat3 s=mat3(sin(a),0.,cos(a),0.,1.,0.,cos(a),0.,-sin(a));"
   "y*=s;"
   "float u=0.f;"
   "vec4 m=vec4(0.);"
   "for(int o=0;o<300;o++)"
     "{"
       "z+=y/256.;"
       "vec4 p=texture(k,z);"
       "float n=i<65?1.f:1.f+gl_Color.w*3.f;"
       "m+=(e(p.y*2.5f,vec4(11,167,167,0))*n+e(p.w*2.5f,vec4(219,52,36,0))/n)*u*(pow(1.f+abs(mod(z.x+t*.3f,1.f)-.5f),6.f)/4.f)*.01;"
       "u+=1./256.f;"
     "}"
   "vec4 p=m/6.f;"
   "float n=min(length(p),1.),o=(1.f-n)*pow(abs((mod(z.x,.05f)-.025f)/.1f),8.f)*128.f*128.f*3.f;"
   "f=(p+vec4(o))*clamp(1.4f-length(l),.1f,1.f);"
 "}";

#endif // SHADER_CODE_H_
